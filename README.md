üóÇÔ∏è Universal CRM - Gestion de Dossiers M√©tier
Application de CRM et de Gestion √âlectronique de Documents (GED) ultra-flexible, con√ßue pour g√©rer des dossiers clients, des chantiers ou des projets administratifs.

D√©velopp√© avec Python (Streamlit) et Supabase.

‚ú® Fonctionnalit√©s Principales
üèóÔ∏è 1. Architecture Flexible (No-Code)
Structure dynamique : Cr√©ez vos propres mod√®les de dossiers via l'interface Admin.

Organisation par Sections : D√©coupez vos formulaires en blocs visuels (ex: "1. Contact", "2. Technique", "3. Documents").

Typage fort : Champs Texte, Nombre, Date, Email, T√©l√©phone, Oui/Non...

‚ö° 2. Saisie Intelligente & Automatis√©e
API SIRET (Gouv.fr) : Remplissage automatique des infos soci√©t√© (Nom, Adresse compl√®te, Ville, CP) via le num√©ro SIRET.

Adresse Intelligente : Case √† cocher "Adresse identique" pour copier instantan√©ment l'adresse du si√®ge vers l'adresse de travaux.

Interface R√©active : Formulaire fluide sans rechargement excessif.

üìÇ 3. Gestion Documentaire Avanc√©e (GED)
Upload Multi-fichiers : Glisser-d√©poser plusieurs documents d'un coup.

Visualisation : Liste claire des fichiers par dossier avec liens de t√©l√©chargement.

Fusion PDF üñ®Ô∏è : Bouton magique pour fusionner tous les documents d'un dossier (Images JPG/PNG + PDFs) en un seul fichier PDF complet.

üõ†Ô∏è 4. Administration Totale
√âditeur de Structure : R√©organisez l'ordre des champs par simple Drag & Drop.

Modification √† la vol√©e : Renommez des champs ou changez leur section sans toucher au code.

üöÄ Installation Locale
Pr√©-requis
Python 3.9 ou plus

Un compte Supabase (Gratuit)

1. Cloner le projet
Bash

git clone https://github.com/votre-pseudo/mon-crm-pro.git
cd mon-crm-pro
2. Installer les d√©pendances
Bash

pip install -r requirements.txt
Contenu du requirements.txt :

Plaintext

streamlit
supabase
pandas
requests
streamlit-sortables
pypdf
Pillow
3. Configurer les Secrets
Cr√©ez un dossier .streamlit et un fichier secrets.toml √† l'int√©rieur :

Ini, TOML

# .streamlit/secrets.toml
SUPABASE_URL = "https://votre-projet.supabase.co"
SUPABASE_KEY = "votre-cle-anon-public"
4. Lancer l'application
Bash

streamlit run universal_crm.py
üóÑÔ∏è Configuration Base de Donn√©es (Supabase)
Pour que l'application fonctionne, vous devez ex√©cuter ce script SQL dans l'interface SQL Editor de Supabase :

SQL

-- 1. Nettoyage (Attention : supprime les donn√©es existantes)
DROP TABLE IF EXISTS records CASCADE;
DROP TABLE IF EXISTS collections CASCADE;
DROP TABLE IF EXISTS activities CASCADE;

-- 2. Table Activit√©s (Le dossier parent global)
CREATE TABLE activities (
    id bigint generated by default as identity primary key,
    name text not null unique,
    created_at timestamp with time zone default timezone('utc'::text, now())
);

-- 3. Table Collections (Les Mod√®les de dossier)
CREATE TABLE collections (
    id bigint generated by default as identity primary key,
    name text not null,
    fields jsonb not null, -- Stocke la configuration (sections, types, noms)
    activity_id bigint references activities(id) on delete cascade,
    created_at timestamp with time zone default timezone('utc'::text, now())
);

-- 4. Table Records (Les Dossiers remplis)
CREATE TABLE records (
    id bigint generated by default as identity primary key,
    collection_id bigint references collections(id) on delete cascade,
    data jsonb not null, -- Stocke toutes les valeurs du dossier
    created_at timestamp with time zone default timezone('utc'::text, now())
);
Configuration du Storage :

Cr√©ez un Bucket nomm√© fichiers.

Ajoutez une Policy "Public" : Autorisez SELECT, INSERT, UPDATE, DELETE pour tout le monde (ou authentifi√© selon vos besoins).

üìñ Guide d'Utilisation Rapide
√âtape 1 : Configuration (Admin)
Allez dans l'onglet 3. Configuration (Admin).

Cr√©ez une Activit√© (ex: "R√©novation").

Cr√©ez un Mod√®le (ex: "Dossier Client").

Ajoutez vos champs en pr√©cisant bien la Section (ex: "1. Contact", "2. Documents").

Astuce : Utilisez le type Adresse pour le si√®ge et Adresse Travaux pour le chantier afin d'activer la copie intelligente.

√âtape 2 : Cr√©ation de Dossier
Allez dans 1. Nouveau Dossier.

Si vous avez un champ SIRET, entrez le num√©ro et cliquez sur üîç.

Remplissez le reste et glissez vos fichiers.

Cliquez sur Enregistrer.

√âtape 3 : Gestion & Export
Allez dans 2. Gestion des Dossiers.

Recherchez un dossier.

Modifiez les infos ou ajoutez des fichiers.

Cliquez sur "üì• T√©l√©charger le Dossier Complet (PDF)" pour obtenir une fusion de toutes les pi√®ces jointes.

‚òÅÔ∏è D√©ploiement (Streamlit Cloud)
H√©bergez ce code sur GitHub.

Connectez-vous sur share.streamlit.io.

D√©ployez le repo.

Dans les Advanced Settings de Streamlit Cloud, collez le contenu de vos secrets (URL et KEY Supabase) dans la zone d√©di√©e.

Auteur : Nathan Ghozlan Licence : MIT
